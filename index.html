<!DOCTYPE html>
<html>
  <head>
    <title>Rock-Paper-Scissors</title>
  </head>
  <body>

    <script>

      function random(min, max) {
        // return a random number between min and max. (including both)
        return (Math.floor( Math.random()*(max - min + 1) ) + min);
      }

      function computerPlay() {
        let selectorNum = random(1,3); // get a random number as decider for selection

        switch (selectorNum){
          case 1: return "rock"; break;
          case 2: return "scissors"; break;
          case 3: return "paper"; break;
          default: console.error("Something is wrong!");
        }

      }
     
      function game(numOfGames = 5) {

        for (let i=0; i<numOfGames; i++) { // play game for numOfGames times.
          console.log("Game "+ (i+1)); // print the number of the current round
          let playerSelection;

          while (true) { // prompt user until the input is valid
            playerSelection = prompt("Rock/Scissors/Paper? :").toLowerCase();
            // transform to lowerCase to standardize all selections (case in-sensitive)

            if(playerSelection === "rock" ||
               playerSelection === "paper" ||
               playerSelection === "scissors") {
                 break;
               }

            else { // if the input is not valid.
              confirm("Invalid Input! Please enter 'rock', 'scissors' or 'paper'");
            }
          }
          
          console.log(playRound(playerSelection, computerPlay()))
        }
      }

      function playRound(playerSelection, computerSelection) {

        if (playerSelection === computerSelection) {
          return "Draw!";
        }

        else if(playerSelection==="rock"){

          if (computerSelection === "paper") {
            return "Computer wins! Paper beats Rock!";
          }

          else { // computer selection is anything but paper
            return ("You win! Rock beats " + computerSelection);
          }

        }

        else if(playerSelection === "paper") {

          if (computerSelection === "scissors") {
            return "Computer wins! Scissors cuts Paper.";
          }

          else {
            return ("You win! Paper wraps " + computerSelection);
          }

        }

        else if(playerSelection === "scissors"){

          if(computerSelection === "rock") {
            return "Computer wins! Rock beats Scissors!";
          }

          else {
            return "You win! Scissors cuts Paper!";
          }

        }

        else {
          return "invalid input!"
        }

      }
      
    </script>
  </body>
</html>